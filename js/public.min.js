function getMeta(e,t){var a=new Image;a.src=e,a.addEventListener("load",function(){t(this.width,this.height)})}function imageWide(){var e=parseInt(document.getElementById("script-theme").getAttribute("data-pagewidth")),t=0,a=0,l=0;let r=document.createElement("div");r.style.width="1rem",r.style.display="none",document.body.append(r);var s=window.getComputedStyle(r).getPropertyValue("width").match(/\d+/);r.remove(),s&&s.length>=1&&(l=parseInt(s[0])),l>0&&(t=e*l,a=(e+10)*l);for(var i=document.getElementsByTagName("article")[0].getElementsByTagName("img"),n=0;n<i.length;){let m=i[n];getMeta(m.src,function(e,l){let r=e,s=l,i="";r>t&&r>s&&(r>a&&(s=parseInt(a*s/r),r=a),i="display:block;margin-left:50%;transform:translateX(-50%);max-width:95vw;",m.setAttribute("style",i),r&&m.setAttribute("width",r),s&&m.setAttribute("height",s))}),n++}}window.onload=function(){if(document.getElementsByClassName("search-form-submit")[0]){var e=new URL(document.location).searchParams.get("q");""!==e&&(document.getElementsByClassName("search-form-submit")[0].disabled=!0),document.getElementsByClassName("search-form")[0].oninput=function(){document.getElementsByClassName("search-form-field")[0].value&&document.getElementsByClassName("search-form-field")[0].value!==e?document.getElementsByClassName("search-form-submit")[0].disabled=!1:document.getElementsByClassName("search-form-submit")[0].disabled=!0}}document.getElementById("trackback-url")&&(document.getElementById("trackback-url").onclick=function(){console.log("ok"),window.location.protocol,window.location.host;var e,t=document.getElementById("trackback-url").innerHTML;try{e=new URL(t).href}catch(a){return!1}!1!==e.href&&navigator.clipboard.writeText(e).then(()=>{document.getElementById("trackback-url-copied").style.display="inline"},()=>{document.getElementById("trackback-url-copied").style.display="none"})})},document.getElementById("script-theme")&&document.getElementsByTagName("article")[0]&&(window.addEventListener("load",imageWide),window.addEventListener("resize",imageWide));
