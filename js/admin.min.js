function setStyle(e,t){for(var a of e=Array.isArray(e)?e:[e]){var o=a+"-input",a=a+"-description";document.getElementById(o)&&(document.getElementById(o).style.display=t),document.getElementById(a)&&(document.getElementById(a).style.display=t)}}function socialSites(){return["diaspora","facebook","instagram","mastodon","phone","signal","sms","youtube","whatsapp","x","other"]}function toggleFooterSocialSetting(e){""!==document.getElementById("social_"+e).value?(setStyle("footer_social_"+e,"block"),"disabled"!==document.getElementById("reactions_other").value?setStyle("reactions_other_"+e,"block"):setStyle("reactions_other_"+e,"none")):setStyle(["footer_social_"+e,"reactions_other_"+e],"none")}function disableInputs(){"custom"===document.getElementById("global_color_primary").value?setStyle(["global_color_primary_custom","global_color_primary_amplified_custom","global_color_background_custom","global_color_primary_dark_custom","global_color_primary_dark_amplified_custom","global_color_background_dark_custom"],"block"):setStyle(["global_color_primary_custom","global_color_primary_amplified_custom","global_color_background_custom","global_color_primary_dark_custom","global_color_primary_dark_amplified_custom","global_color_background_dark_custom"],"none"),"disabled"!==document.getElementById("reactions_other").value?setStyle("reactions_other_email","block"):setStyle("reactions_other_email","none");var e,t=!1;for(e of socialSites())""!==document.getElementById("social_"+e).value&&(t=!0),toggleFooterSocialSetting(e);document.getElementById("section-footer-social").style.display=!0===t?"block":"none"}function updatePageWidthSetting(e,t){var a,o;"em"===document.getElementById("global_unit").value?document.getElementById("global_page_width_value").placeholder=document.getElementById("page_width_em_default").value:"px"===document.getElementById("global_unit").value&&(document.getElementById("global_page_width_value").placeholder=document.getElementById("page_width_px_default").value),document.getElementById("global_page_width_value").value&&("px"===(a=document.getElementById("global_unit").value)?(o=16*parseInt(document.getElementById("global_page_width_value").value,10),document.getElementById("global_page_width_value").value=o.toString()):"em"===a&&(o=parseInt(Number(document.getElementById("global_page_width_value").value)/16,10),document.getElementById("global_page_width_value").value=o.toString()))}function inputValidation(){var e=document.getElementById("global_page_width_value").value,t=Number(e);e?"em"===document.getElementById("global_unit").value?isNaN(t)||t<30||80<t?document.getElementById("global_page_width_value").classList.add("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error"):isNaN(t)||t<480||1280<t?document.getElementById("global_page_width_value").classList.add("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error")}function imageExists(e){var t={src:!1,src2x:!1},a=new Image,a=(a.src=e,a.complete&&0<a.height&&(t.src=!0),image2x=new Image,e.split(".").pop()),o=a.length;return image2x.src=e.substring(0,e.length-(o+1))+"-2x."+a,image2x.complete&&0<image2x.height&&(t.src2x=!0),t}function changeImage(e){var t;""!==e?!0===(t=imageExists(e)).src?(setStyle(["header_image_position","header_image_description"],"block"),document.getElementById("header_image-src").removeAttribute("style"),document.getElementById("header_image-src").setAttribute("src",encodeURI(e)),document.getElementById("header_image_position-retina")&&document.getElementById("header_image-url").value!==e&&(document.getElementById("header_image-retina").style.display="none"),!0===t.src2x&&(document.getElementById("header_image-retina")?document.getElementById("header_image-retina").style.display="block":((e=document.createElement("p")).setAttribute("id","header_image-retina"),e.innerText=document.getElementById("header_image-retina-text").value,(t=document.getElementById("header_image-url")).parentNode.insertBefore(e,t)))):(setStyle(["header_image-src","header_image_position","header_image_description"],document.getElementById("header_image-src").style.display="none"),document.getElementById("header_image-retina")&&(document.getElementById("header_image-retina").style.display="none")):(setStyle(["header_image_position","header_image_description"],document.getElementById("header_image-src").style.display="none"),document.getElementById("header_image-retina")&&(document.getElementById("header_image-retina").style.display="none"))}function fontsPreview(){var e={"sans-serif":"system-ui, sans-serif",transitional:'Charter, "Bitstream Charter", "Sitka Text", Cambria, serif',"old-style":'"Iowan Old Style", "Palatino Linotype", "URW Palladio L", P052, serif',garamond:'Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif',humanist:'Seravek, "Gill Sans Nova", Ubuntu, Calibri, "DejaVu Sans", source-sans-pro, sans-serif',"geometric-humanist":'Avenir, Montserrat, Corbel, "URW Gothic", source-sans-pro, sans-serif',"classical-humanist":'Optima, Candara, "Noto Sans", source-sans-pro, sans-serif',"neo-grotesque":'Inter, Roboto, "Helvetica Neue", "Arial Nova", "Nimbus Sans", Arial, sans-serif',"monospace-slab-serif":'"Nimbus Mono PS", "Courier New", monospace',"monospace-code":'ui-monospace, "Cascadia Code", "Source Code Pro", Menlo, Consolas, "DejaVu Sans Mono", monospace',industrial:'Bahnschrift, "DIN Alternate", "Franklin Gothic Medium", "Nimbus Sans Narrow", sans-serif-condensed, sans-serif',"rounded-sans":'ui-rounded, "Hiragino Maru Gothic ProN", Quicksand, Comfortaa, Manjari, "Arial Rounded MT", "Arial Rounded MT Bold", Calibri, source-sans-pro, sans-serif',"slab-serif":'Rockwell, "Rockwell Nova", "Roboto Slab", "DejaVu Serif", "Sitka Small", serif',antique:'Superclarendon, "Bookman Old Style", "URW Bookman", "URW Bookman L", "Georgia Pro", Georgia, serif',didone:'Didot, "Bodoni MT", "Noto Serif Display", "URW Palladio L", P052, Sylfaen, serif',handwritten:'"Segoe Print", "Bradley Hand", Chilanka, TSCu_Comic, casual, cursive'};e[document.getElementById("global_font_family").value]&&(document.getElementById("odyssey-config-global-font-preview").style.fontFamily=e[document.getElementById("global_font_family").value]),"same"!==document.getElementById("content_text_font").value?(document.getElementById("odyssey-config-content-font-preview").style.display="block",e[document.getElementById("content_text_font").value]&&(document.getElementById("odyssey-config-content-font-preview").style.fontFamily=e[document.getElementById("content_text_font").value])):document.getElementById("odyssey-config-content-font-preview").style.display="none"}function changeColorInput(e,t){var a=document.getElementById(e).value,o=document.getElementById(e+"-text").value;colorDefault=document.getElementById(e+"-default-value").value,a!==o&&"default"!==t&&("picker"===t?document.getElementById(e+"-text").value=a:"text"===t&&(document.getElementById(e).value=""!==o?o:colorDefault)),"default"===t&&(document.getElementById(e).value=colorDefault,document.getElementById(e+"-text").value=colorDefault)}window.onload=function(){let e="";e=document.getElementById("header_image").value,disableInputs(),changeImage(e),fontsPreview(),window.onchange=function(){disableInputs(),fontsPreview()};var t=document.getElementById("global_unit").value,a=document.getElementById("global_page_width_value").value,o=(document.getElementById("global_unit").onchange=function(){updatePageWidthSetting(t,a),inputValidation()},window.oninput=function(){disableInputs(),inputValidation()},document.getElementsByClassName("odyssey-color-setting"));Array.prototype.forEach.call(o,function(e){let t=e.getAttribute("id"),a,o,n;"-input"===t.substr(t.length-6)&&(o=(a=t.substr(0,t.length-6))+"-text",n=a+"-default-button",document.getElementById(a).oninput=function(){changeColorInput(a,"picker")},document.getElementById(o).oninput=function(){changeColorInput(a,"text")},document.getElementById(n).onclick=function(){changeColorInput(a,"default")})}),document.getElementById("header_image").onchange=function(){changeImage(e=document.getElementById("header_image").value)},document.getElementById("header_image").oncut=function(){changeImage(e=document.getElementById("header_image").value)},document.getElementById("header_image").onpaste=function(){changeImage(e=document.getElementById("header_image").value)},document.getElementById("header_image").oninput=function(){clearTimeout(void 0),setTimeout(()=>{changeImage(e=document.getElementById("header_image").value)},1e3)}};