function disableInputs(){""!==document.getElementById("header_image").value?(document.getElementById("header_image_position-input").style.display="block",document.getElementById("header_image_description-input").style.display="block",document.getElementById("header_image_description-description").style.display="block"):(document.getElementById("header_image_position-input").style.display="none",document.getElementById("header_image_description-input").style.display="none",document.getElementById("header_image_description-description").style.display="none"),document.getElementById("footer_enabled").checked?(document.getElementById("footer_credits-input").style.display="block",document.getElementById("footer_credits-description").style.display="block"):(document.getElementById("footer_credits-input").style.display="none",document.getElementById("footer_credits-description").style.display="none")}function updatePageWidthSetting(e,t){var n,d;"em"===document.getElementById("global_unit").value?document.getElementById("global_page_width_value").placeholder=document.getElementById("page_width_em_default").value:"px"===document.getElementById("global_unit").value&&(document.getElementById("global_page_width_value").placeholder=document.getElementById("page_width_px_default").value),document.getElementById("global_page_width_value").value&&("px"===(n=document.getElementById("global_unit").value)?(d=16*parseInt(document.getElementById("global_page_width_value").value,10),document.getElementById("global_page_width_value").value=d.toString()):"em"===n&&(d=parseInt(Number(document.getElementById("global_page_width_value").value)/16,10),document.getElementById("global_page_width_value").value=d.toString()))}function inputValidation(){var e=document.getElementById("global_page_width_value").value,t=Number(e);e?"em"===document.getElementById("global_unit").value?isNaN(t)||t<30||80<t?document.getElementById("global_page_width_value").classList.add("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error"):isNaN(t)||t<480||1280<t?document.getElementById("global_page_width_value").classList.add("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error"):document.getElementById("global_page_width_value").classList.remove("odyssey-value-error")}function imageExists(e){var t=new Image;return t.src=e,!(!t.complete||0===t.height)}function changeImage(){console.log("ok"),!0===imageExists(document.getElementById("header_image").value)?(document.getElementById("header_image-src").removeAttribute("style"),document.getElementById("header_image-src").setAttribute("src",encodeURI(document.getElementById("header_image").value)),document.getElementById("header_image_position-retina")&&document.getElementById("header_image-url").value!==document.getElementById("header_image").value&&(document.getElementById("header_image-retina").style.display="none"),document.getElementById("header_image_position-input").style.display="block",document.getElementById("header_image_description-input").style.display="block",document.getElementById("header_image_description-description").style.display="block"):(document.getElementById("header_image-src").style.display="none",document.getElementById("header_image_position-input").style.display="none",document.getElementById("header_image_description-input").style.display="none",document.getElementById("header_image_description-description").style.display="none")}window.onload=function(){disableInputs(),changeImage(),window.onchange=function(){disableInputs()};var e=document.getElementById("global_unit").value,t=document.getElementById("global_page_width_value").value;document.getElementById("global_unit").onchange=function(){updatePageWidthSetting(e,t),inputValidation()},window.oninput=function(){inputValidation()},document.getElementById("header_image").onchange=function(){disableInputs(),changeImage()},document.getElementById("header_image").oncut=function(){changeImage()},document.getElementById("header_image").onpaste=function(){changeImage()},document.getElementById("header_image").addEventListener("input",e=>{clearTimeout(void 0),setTimeout(()=>{changeImage()},1e3)})};